{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\hyd\\\\hyd\\\\frontend\\\\src\\\\components\\\\BookRoom.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DURATION_OPTIONS = [{\n  label: '30 Minutes',\n  value: 30\n}, {\n  label: '1 Hour',\n  value: 60\n}, {\n  label: '2 Hours',\n  value: 120\n}];\nconst BASE_TIMESLOTS = ['09:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '13:00', '13:30', '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30', '18:00'];\nconst BookRoom = () => {\n  _s();\n  const [rooms, setRooms] = useState([]);\n  const [selectedRoom, setSelectedRoom] = useState('');\n  const [selectedDate, setSelectedDate] = useState('');\n  const [duration, setDuration] = useState('');\n  const [selectedTime, setSelectedTime] = useState('');\n  const [bookings, setBookings] = useState([]);\n  const token = localStorage.getItem('token');\n  const role = localStorage.getItem('role');\n  const userId = localStorage.getItem('userId');\n\n  // Helper: convert \"13:30\" to \"01:30 PM\"\n  const to12Hour = time => {\n    const [h, m] = time.split(':').map(Number);\n    const ampm = h >= 12 ? 'PM' : 'AM';\n    const hour = (h + 11) % 12 + 1;\n    return `${hour.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')} ${ampm}`;\n  };\n  const fetchRooms = useCallback(async () => {\n    try {\n      const res = await axios.get('http://localhost:5000/api/rooms', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setRooms(res.data);\n      if (res.data.length > 0) setSelectedRoom(res.data[0]._id);\n    } catch (err) {\n      setRooms([]);\n    }\n  }, [token]);\n  const fetchBookings = useCallback(async () => {\n    try {\n      const res = await axios.get('http://localhost:5000/api/bookings', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setBookings(res.data);\n    } catch (err) {\n      setBookings([]);\n    }\n  }, [token]);\n  useEffect(() => {\n    fetchRooms();\n    fetchBookings();\n  }, [fetchRooms, fetchBookings]);\n\n  // Only allow booking for future time slots and filter out slots that are already booked for the selected duration\n  const getAvailableTimeSlots = () => {\n    if (!selectedDate || !duration) return [];\n    const today = new Date();\n    const selected = new Date(selectedDate);\n\n    // Get bookings for this room and date\n    const roomBookings = bookings.filter(b => {\n      var _b$room;\n      return ((_b$room = b.room) === null || _b$room === void 0 ? void 0 : _b$room._id) === selectedRoom && new Date(b.startTime).toDateString() === selected.toDateString();\n    });\n\n    // Helper to check if a slot is available for the selected duration\n    const isSlotAvailable = slot => {\n      const [h, m] = slot.split(':').map(Number);\n      const slotStart = new Date(selectedDate);\n      slotStart.setHours(h, m, 0, 0);\n      const slotEnd = new Date(slotStart.getTime() + Number(duration) * 60000);\n\n      // Don't allow slots that end after 19:00\n      if (slotEnd.getHours() > 19 || slotEnd.getHours() === 19 && slotEnd.getMinutes() > 0) return false;\n\n      // Don't allow past slots for today\n      if (today.toDateString() === selected.toDateString() && slotStart <= today) {\n        return false;\n      }\n\n      // Check for conflicts\n      for (let b of roomBookings) {\n        const bookingStart = new Date(b.startTime);\n        const bookingEnd = new Date(b.endTime);\n        if (slotStart < bookingEnd && slotEnd > bookingStart) {\n          return false;\n        }\n      }\n      return true;\n    };\n    return BASE_TIMESLOTS.filter(isSlotAvailable);\n  };\n  const handleBook = async () => {\n    if (!selectedRoom || !selectedDate || !selectedTime || !duration) {\n      toast.error('Please select all fields.');\n      return;\n    }\n\n    // Prevent booking for past slots (double check)\n    const today = new Date();\n    const [h, m] = selectedTime.split(':').map(Number);\n    const bookingDate = new Date(selectedDate);\n    bookingDate.setHours(h, m, 0, 0);\n    if (today.toDateString() === bookingDate.toDateString() && bookingDate <= today) {\n      toast.error('Cannot book a slot that has already passed.');\n      return;\n    }\n    try {\n      await axios.post('http://localhost:5000/api/bookings', {\n        room: selectedRoom,\n        date: selectedDate,\n        time: selectedTime,\n        duration // send duration to backend if needed\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      toast.success('Room booked successfully!');\n      setSelectedTime('');\n      fetchBookings();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      toast.error(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Booking failed');\n    }\n  };\n\n  // Helper to format date as YYYY-MM-DD\n  const formatDate = dateObj => {\n    const year = dateObj.getFullYear();\n    const month = String(dateObj.getMonth() + 1).padStart(2, '0');\n    const day = String(dateObj.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n  const canCancel = booking => {\n    var _booking$bookedBy3;\n    if (role === 'SuperAdmin') return true;\n    if (role === 'Admin') {\n      var _booking$bookedBy, _booking$bookedBy2;\n      const bookedByRole = (_booking$bookedBy = booking.bookedBy) === null || _booking$bookedBy === void 0 ? void 0 : _booking$bookedBy.role;\n      const bookedById = ((_booking$bookedBy2 = booking.bookedBy) === null || _booking$bookedBy2 === void 0 ? void 0 : _booking$bookedBy2._id) || booking.bookedBy;\n      if (bookedByRole === 'SuperAdmin') return false;\n      if (bookedById === userId) return true;\n      if (bookedByRole === 'Employee') return true;\n      return false;\n    }\n    if (role === 'Employee' && (((_booking$bookedBy3 = booking.bookedBy) === null || _booking$bookedBy3 === void 0 ? void 0 : _booking$bookedBy3._id) === userId || booking.bookedBy === userId)) return true;\n    return false;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '30px',\n      maxWidth: '600px',\n      margin: 'auto',\n      fontFamily: 'Arial, sans-serif',\n      backgroundColor: '#f9f9f9',\n      borderRadius: '12px',\n      boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center',\n        color: '#333',\n        marginBottom: '30px'\n      },\n      children: \"\\uD83D\\uDCC5 Book Room\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '16px',\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: \"Room:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedRoom,\n          onChange: e => {\n            setSelectedRoom(e.target.value);\n            setDuration('');\n            setSelectedTime('');\n          },\n          style: {\n            flex: 1,\n            padding: '10px',\n            borderRadius: '6px',\n            border: '1px solid #ccc'\n          },\n          children: rooms.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: room._id,\n            children: room.name\n          }, room._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: \"Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: selectedDate,\n          onChange: e => {\n            setSelectedDate(e.target.value);\n            setDuration('');\n            setSelectedTime('');\n          },\n          style: {\n            flex: 1,\n            padding: '10px',\n            borderRadius: '6px',\n            border: '1px solid #ccc'\n          },\n          min: formatDate(new Date())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: \"Duration:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: duration,\n          onChange: e => {\n            setDuration(e.target.value);\n            setSelectedTime('');\n          },\n          style: {\n            flex: 1,\n            padding: '10px',\n            borderRadius: '6px',\n            border: '1px solid #ccc'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Duration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), DURATION_OPTIONS.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: opt.value,\n            children: opt.label\n          }, opt.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), duration && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: \"Time Slot:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedTime,\n          onChange: e => setSelectedTime(e.target.value),\n          style: {\n            flex: 1,\n            padding: '10px',\n            borderRadius: '6px',\n            border: '1px solid #ccc'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), getAvailableTimeSlots().map((slot, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: slot,\n            children: to12Hour(slot)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBook,\n        style: {\n          padding: '12px',\n          borderRadius: '6px',\n          backgroundColor: '#007bff',\n          color: '#fff',\n          border: 'none',\n          fontWeight: 'bold',\n          cursor: 'pointer'\n        },\n        children: \"Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        borderBottom: '1px solid #ccc',\n        paddingBottom: '10px',\n        marginBottom: '20px'\n      },\n      children: \"Current Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyleType: 'none',\n        paddingLeft: 0\n      },\n      children: bookings.filter(booking => {\n        var _booking$room;\n        return (!selectedRoom || ((_booking$room = booking.room) === null || _booking$room === void 0 ? void 0 : _booking$room._id) === selectedRoom) && (!selectedDate || formatDate(new Date(booking.startTime)) === selectedDate);\n      }).map((booking, index) => {\n        var _booking$room2, _booking$bookedBy4;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            padding: '10px',\n            borderBottom: '1px solid #eee',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: ((_booking$room2 = booking.room) === null || _booking$room2 === void 0 ? void 0 : _booking$room2.name) || 'Room'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), \" - \", new Date(booking.startTime).toLocaleString(), \" - \", /*#__PURE__*/_jsxDEV(\"em\", {\n              children: ((_booking$bookedBy4 = booking.bookedBy) === null || _booking$bookedBy4 === void 0 ? void 0 : _booking$bookedBy4.email) || 'Unknown'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 116\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), canCancel(booking) && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: async () => {\n              if (!window.confirm('Are you sure you want to cancel this booking?')) return;\n              try {\n                await axios.delete(`http://localhost:5000/api/bookings/${booking._id}`, {\n                  headers: {\n                    Authorization: `Bearer ${token}`\n                  }\n                });\n                toast.success('Booking cancelled.');\n                fetchBookings();\n              } catch (err) {\n                var _err$response2, _err$response2$data;\n                toast.error(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Failed to cancel booking');\n              }\n            },\n            style: {\n              marginLeft: '10px',\n              padding: '6px 14px',\n              background: 'crimson',\n              color: '#fff',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n};\n_s(BookRoom, \"PpH7amdlhS3SwNiuQIDE53XBlBE=\");\n_c = BookRoom;\nexport default BookRoom;\nvar _c;\n$RefreshReg$(_c, \"BookRoom\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","toast","jsxDEV","_jsxDEV","DURATION_OPTIONS","label","value","BASE_TIMESLOTS","BookRoom","_s","rooms","setRooms","selectedRoom","setSelectedRoom","selectedDate","setSelectedDate","duration","setDuration","selectedTime","setSelectedTime","bookings","setBookings","token","localStorage","getItem","role","userId","to12Hour","time","h","m","split","map","Number","ampm","hour","toString","padStart","fetchRooms","res","get","headers","Authorization","data","length","_id","err","fetchBookings","getAvailableTimeSlots","today","Date","selected","roomBookings","filter","b","_b$room","room","startTime","toDateString","isSlotAvailable","slot","slotStart","setHours","slotEnd","getTime","getHours","getMinutes","bookingStart","bookingEnd","endTime","handleBook","error","bookingDate","post","date","success","_err$response","_err$response$data","response","message","formatDate","dateObj","year","getFullYear","month","String","getMonth","day","getDate","canCancel","booking","_booking$bookedBy3","_booking$bookedBy","_booking$bookedBy2","bookedByRole","bookedBy","bookedById","style","padding","maxWidth","margin","fontFamily","backgroundColor","borderRadius","boxShadow","children","textAlign","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","display","flexDirection","gap","alignItems","fontWeight","onChange","e","target","flex","border","name","type","min","opt","idx","onClick","cursor","borderBottom","paddingBottom","listStyleType","paddingLeft","_booking$room","index","_booking$room2","_booking$bookedBy4","justifyContent","toLocaleString","email","window","confirm","delete","_err$response2","_err$response2$data","marginLeft","background","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/Desktop/hyd/hyd/frontend/src/components/BookRoom.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst DURATION_OPTIONS = [\r\n  { label: '30 Minutes', value: 30 },\r\n  { label: '1 Hour', value: 60 },\r\n  { label: '2 Hours', value: 120 }\r\n];\r\n\r\nconst BASE_TIMESLOTS = [\r\n  '09:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '13:00',\r\n  '13:30', '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30', '18:00'\r\n];\r\n\r\nconst BookRoom = () => {\r\n  const [rooms, setRooms] = useState([]);\r\n  const [selectedRoom, setSelectedRoom] = useState('');\r\n  const [selectedDate, setSelectedDate] = useState('');\r\n  const [duration, setDuration] = useState('');\r\n  const [selectedTime, setSelectedTime] = useState('');\r\n  const [bookings, setBookings] = useState([]);\r\n  const token = localStorage.getItem('token');\r\n  const role = localStorage.getItem('role');\r\n  const userId = localStorage.getItem('userId');\r\n\r\n  // Helper: convert \"13:30\" to \"01:30 PM\"\r\n  const to12Hour = (time) => {\r\n    const [h, m] = time.split(':').map(Number);\r\n    const ampm = h >= 12 ? 'PM' : 'AM';\r\n    const hour = ((h + 11) % 12 + 1);\r\n    return `${hour.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')} ${ampm}`;\r\n  };\r\n\r\n  const fetchRooms = useCallback(async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:5000/api/rooms', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setRooms(res.data);\r\n      if (res.data.length > 0) setSelectedRoom(res.data[0]._id);\r\n    } catch (err) {\r\n      setRooms([]);\r\n    }\r\n  }, [token]);\r\n\r\n  const fetchBookings = useCallback(async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:5000/api/bookings', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setBookings(res.data);\r\n    } catch (err) {\r\n      setBookings([]);\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    fetchRooms();\r\n    fetchBookings();\r\n  }, [fetchRooms, fetchBookings]);\r\n\r\n  // Only allow booking for future time slots and filter out slots that are already booked for the selected duration\r\n  const getAvailableTimeSlots = () => {\r\n    if (!selectedDate || !duration) return [];\r\n    const today = new Date();\r\n    const selected = new Date(selectedDate);\r\n\r\n    // Get bookings for this room and date\r\n    const roomBookings = bookings.filter(\r\n      (b) =>\r\n        b.room?._id === selectedRoom &&\r\n        new Date(b.startTime).toDateString() === selected.toDateString()\r\n    );\r\n\r\n    // Helper to check if a slot is available for the selected duration\r\n    const isSlotAvailable = (slot) => {\r\n      const [h, m] = slot.split(':').map(Number);\r\n      const slotStart = new Date(selectedDate);\r\n      slotStart.setHours(h, m, 0, 0);\r\n      const slotEnd = new Date(slotStart.getTime() + Number(duration) * 60000);\r\n\r\n      // Don't allow slots that end after 19:00\r\n      if (slotEnd.getHours() > 19 || (slotEnd.getHours() === 19 && slotEnd.getMinutes() > 0)) return false;\r\n\r\n      // Don't allow past slots for today\r\n      if (\r\n        today.toDateString() === selected.toDateString() &&\r\n        slotStart <= today\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      // Check for conflicts\r\n      for (let b of roomBookings) {\r\n        const bookingStart = new Date(b.startTime);\r\n        const bookingEnd = new Date(b.endTime);\r\n        if (\r\n          (slotStart < bookingEnd && slotEnd > bookingStart)\r\n        ) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n\r\n    return BASE_TIMESLOTS.filter(isSlotAvailable);\r\n  };\r\n\r\n  const handleBook = async () => {\r\n    if (!selectedRoom || !selectedDate || !selectedTime || !duration) {\r\n      toast.error('Please select all fields.');\r\n      return;\r\n    }\r\n\r\n    // Prevent booking for past slots (double check)\r\n    const today = new Date();\r\n    const [h, m] = selectedTime.split(':').map(Number);\r\n    const bookingDate = new Date(selectedDate);\r\n    bookingDate.setHours(h, m, 0, 0);\r\n\r\n    if (\r\n      today.toDateString() === bookingDate.toDateString() &&\r\n      bookingDate <= today\r\n    ) {\r\n      toast.error('Cannot book a slot that has already passed.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.post('http://localhost:5000/api/bookings', {\r\n        room: selectedRoom,\r\n        date: selectedDate,\r\n        time: selectedTime,\r\n        duration // send duration to backend if needed\r\n      }, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      toast.success('Room booked successfully!');\r\n      setSelectedTime('');\r\n      fetchBookings();\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || 'Booking failed');\r\n    }\r\n  };\r\n\r\n  // Helper to format date as YYYY-MM-DD\r\n  const formatDate = (dateObj) => {\r\n    const year = dateObj.getFullYear();\r\n    const month = String(dateObj.getMonth() + 1).padStart(2, '0');\r\n    const day = String(dateObj.getDate()).padStart(2, '0');\r\n    return `${year}-${month}-${day}`;\r\n  };\r\n\r\n  const canCancel = (booking) => {\r\n    if (role === 'SuperAdmin') return true;\r\n    if (role === 'Admin') {\r\n      const bookedByRole = booking.bookedBy?.role;\r\n      const bookedById = booking.bookedBy?._id || booking.bookedBy;\r\n      if (bookedByRole === 'SuperAdmin') return false;\r\n      if (bookedById === userId) return true;\r\n      if (bookedByRole === 'Employee') return true;\r\n      return false;\r\n    }\r\n    if (role === 'Employee' && (booking.bookedBy?._id === userId || booking.bookedBy === userId)) return true;\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '30px', maxWidth: '600px', margin: 'auto', fontFamily: 'Arial, sans-serif', backgroundColor: '#f9f9f9', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}>\r\n      <h2 style={{ textAlign: 'center', color: '#333', marginBottom: '30px' }}>📅 Book Room</h2>\r\n\r\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', marginBottom: '30px' }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n          <label style={{ fontWeight: 'bold' }}>Room:</label>\r\n          <select\r\n            value={selectedRoom}\r\n            onChange={(e) => { setSelectedRoom(e.target.value); setDuration(''); setSelectedTime(''); }}\r\n            style={{ flex: 1, padding: '10px', borderRadius: '6px', border: '1px solid #ccc' }}\r\n          >\r\n            {rooms.map((room) => (\r\n              <option key={room._id} value={room._id}>{room.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n          <label style={{ fontWeight: 'bold' }}>Date:</label>\r\n          <input\r\n            type=\"date\"\r\n            value={selectedDate}\r\n            onChange={(e) => { setSelectedDate(e.target.value); setDuration(''); setSelectedTime(''); }}\r\n            style={{ flex: 1, padding: '10px', borderRadius: '6px', border: '1px solid #ccc' }}\r\n            min={formatDate(new Date())}\r\n          />\r\n        </div>\r\n\r\n        {/* Duration dropdown */}\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n          <label style={{ fontWeight: 'bold' }}>Duration:</label>\r\n          <select\r\n            value={duration}\r\n            onChange={e => { setDuration(e.target.value); setSelectedTime(''); }}\r\n            style={{ flex: 1, padding: '10px', borderRadius: '6px', border: '1px solid #ccc' }}\r\n          >\r\n            <option value=\"\">Select Duration</option>\r\n            {DURATION_OPTIONS.map(opt => (\r\n              <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Show time slot dropdown only if duration is selected */}\r\n        {duration && (\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n            <label style={{ fontWeight: 'bold' }}>Time Slot:</label>\r\n            <select\r\n              value={selectedTime}\r\n              onChange={(e) => setSelectedTime(e.target.value)}\r\n              style={{ flex: 1, padding: '10px', borderRadius: '6px', border: '1px solid #ccc' }}\r\n            >\r\n              <option value=\"\">Select</option>\r\n              {getAvailableTimeSlots().map((slot, idx) => (\r\n                <option key={idx} value={slot}>{to12Hour(slot)}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={handleBook}\r\n          style={{ padding: '12px', borderRadius: '6px', backgroundColor: '#007bff', color: '#fff', border: 'none', fontWeight: 'bold', cursor: 'pointer' }}\r\n        >\r\n          Book\r\n        </button>\r\n      </div>\r\n\r\n      <h3 style={{ borderBottom: '1px solid #ccc', paddingBottom: '10px', marginBottom: '20px' }}>\r\n        Current Bookings\r\n      </h3>\r\n      <ul style={{ listStyleType: 'none', paddingLeft: 0 }}>\r\n        {bookings\r\n          .filter(\r\n            (booking) =>\r\n              (!selectedRoom || booking.room?._id === selectedRoom) &&\r\n              (!selectedDate ||\r\n                formatDate(new Date(booking.startTime)) === selectedDate)\r\n          )\r\n          .map((booking, index) => (\r\n            <li key={index} style={{ padding: '10px', borderBottom: '1px solid #eee', display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n              <span>\r\n                <strong>{booking.room?.name || 'Room'}</strong> - {new Date(booking.startTime).toLocaleString()} - <em>{booking.bookedBy?.email || 'Unknown'}</em>\r\n              </span>\r\n              {canCancel(booking) && (\r\n                <button\r\n                  onClick={async () => {\r\n                    if (!window.confirm('Are you sure you want to cancel this booking?')) return;\r\n                    try {\r\n                      await axios.delete(`http://localhost:5000/api/bookings/${booking._id}`, {\r\n                        headers: { Authorization: `Bearer ${token}` }\r\n                      });\r\n                      toast.success('Booking cancelled.');\r\n                      fetchBookings();\r\n                    } catch (err) {\r\n                      toast.error(err.response?.data?.message || 'Failed to cancel booking');\r\n                    }\r\n                  }}\r\n                  style={{\r\n                    marginLeft: '10px',\r\n                    padding: '6px 14px',\r\n                    background: 'crimson',\r\n                    color: '#fff',\r\n                    border: 'none',\r\n                    borderRadius: '4px',\r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              )}\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookRoom;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}